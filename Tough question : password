question===> http://codeforces.com/problemset/problem/126/B
submission==> https://codeforces.com/contest/126/submission/118710248
#include<iostream>
#include<bits/stdc++.h>
#define int long long 
using namespace std;
vector<int> lps(string s,int n)
{
    int i =1,len =0;
    vector<int>lps(n,0);/*here we can name this vector same as function name and important thing is we need to
                         initialise size of vector and initialise with 0 if you will not then at lps[i] programe gets
                         over or means runtime error*/
    while(i<n)
    {
        //cout<<"1";
        if(s[i]==s[len])
        {
            len++;
            lps[i]=len;
            i++;
        }
        else
        {
          //  cout<<"3";
            if(len!=0)
            {
            //    cout<<"4";
                len = lps[len-1];
            }
            else
            {
              //  cout<<"5";
                i++;
            }
        }
    }
    //cout<<"7";
    return lps;

}
signed main()
{
    string s;
    cin>>s;
    int n =s.length();
    vector<int>lp;//we cannot name this vector same as function name 
    lp=lps(s,n);
    int i,maxi = lp[n-1];//maxi = lp[n-1] this means if there is any number greater than 0 this means that last substring is matching with first substring so answer might exist
                         // there if it is zero then answer will never exist according to question so line 55 will always make found = 0 as first and last index always matches as 0 so it will print "just a legend"
                         
    int found = lp[maxi-1];  // found = lp[maxi-1] because if maxi =3 this means 3 elements from starting are matching so for going to 3rd element we have to go to 2nd index because of 0 based indexing
                             // dry run on example fixprefixsuffix , abcdabc , qwertyqwertyqwerty. you will understand everything.
                             /* let eg= fixprefixsuffix so maxi = 3 this means 3 elements are matching from starting index so found will go to third element from starting and see what is 
                             value there and store that value if there is 0 so 0 element are matching from starting but just see if we move ahead we might get another substring of length maxi 
                             if we get then found will equal to maxi if we don't  get then found will equal to value at 3rd index.
                             eg==> abcdabc maxi = 3 found will go to 3rd element from starting and store that value here at 3rd place which is second index value is zero so this means 0 elements are matching from startin
                             so found =0 but let we chech if there is another substring present of length maxi so found will be =to maxi other wise found =0 and answer doesn't exist
                             eg==> qwertyqwertyqwerty  here maxi = 12 means 12 elements are matching from starting so found will go to 12th element by index 12-1=11 so at 11th index found value will be 6 so 6 elements are matching from starting
                             but let we chech if there is any other substring equal to length maxi rather than last substring then found will be =to maxi other wise found will be equal to 6 and 
                             now print first found element from original string
                             
                             
                             
    //for(i=0;i<n;i++)
    //{
      //  cout<<lp[i]<<" ";
    //}
    if(maxi==0)
    {
        found = 0;
    }
    for(i=0;i<n-1;i++)
    {
        if(lp[i]==maxi)
        {
            found = maxi;
        }
    }
    if(found==0)
    {
        cout<<"Just a legend\n";
    }
    else
    {
        cout<<s.substr(0,found)<<"\n";
    }
    return 0;
}
